Em desenvolvimento de software e engenharia de dom√≠nio uma linguagem
de dom√≠nio espec√≠fico, em ingl√™s \foreignlanguage{english}{\emph{Domain-Specific
Language}}\emph{ (DSL)}, √© um tipo de linguagem de programa√ß√£o ou
linguagem de especifica√ß√£o, dedicada a um dom√≠nio particular de problema.

O conceito n√£o √© novo, linguagens de programa√ß√£o de prop√≥sito especifico
existiram desde o come√ßo das linguagens de programa√ß√£o, mas o termo
tornou-se padr√£o devido √† ascens√£o da modelagem de dom√≠nio espec√≠fico.

Um usu√°rio, relacionado com um dom√≠nio espec√≠fico, pode usar uma DSL
sem ter experi√™ncia em desenvolvimento de software pois a DSL est√°
relacionada com seu dom√≠nio de trabalho. O autor \citet{fowler2010domain}
diz que programadores instruem o computador no que ele deve fazer,
pois j√° entendem a maneira dele trabalhar, mas com DSLs √© feito o
inverso: o computador come√ßa a entender o que o programador (usu√°rio)
escreve.

No caso de uma arquitetura baseada em componentes para SADs, DSLs
podem ser criadas para dom√≠nios espec√≠ficos de aplica√ß√£o. Elas utilizariam
termos espec√≠ficos do dom√≠nio e, assim, familiares a especialistas
desse dom√≠nio, com o qual seria poss√≠vel a especialistas especificar
SADs com um grau de detalhamento grande o suficiente para permitir
a cria√ß√£o autom√°tica desses SADs, sem a necessidade da interven√ß√£o
de programadores. Os especialistas poderiam se tornar, na pr√°tica,
programadores de seus pr√≥prios SADs.

Segundo \citet{Mernik:2005:DDL:1118890.1118892} as vantagens das
DSL em compara√ß√£o com as linguagens de proposito geral s√£o a expressividade,
facilidade de uso e a integra√ß√£o com o dom√≠nio da aplica√ß√£o

\section{Decisioner DSL}

No desenvolvimento da presente pesquisa foi necess√°rio definir uma
DSL que permitisse representar as principais caracter√≠sticas do SAD
que precis√°vamos desenvolver, dito SAD foi desenhado para avaliar
a sustentabilidade em agricultura, pelo qual foram integrados conceitos
do dom√≠nio de conhecimento na defini√ß√£o dos componentes do SAD, fornecendo
uma linguagem para especialistas onde √© suportada a de defini√ß√£o dos
SAD, as caracter√≠sticas da DSL s√£o:

\subsection{Evaluation Object}

Os SAD focados na avalia√ß√£o, √© necess√°rio definir um objeto de avalia√ß√£o
que permita representar as entidades a avaliar, este objeto pelo geral
tem propriedades que v√£o representar cada uns dos indiv√≠duos a avaliar,
pelo qual foi definido o comando \textit{evaluationObject, }que define
a estrutura do objeto de avaliza√ß√£o e vincula os controles visuais,
o comando tem como argumentos a URI da classe dos elementos que v√£o
ser avaliados e cada uma das propriedades relacionadas. No c√≥digo
\ref{lis:DSL-para-defini=0000E7=0000E3o} apresenta-se uma parte da
DSL que define a classe do objeto de avalia√ß√£o \textit{ProductionUnit}
e as propriedades por meio dos comandos \foreignlanguage{english}{\textit{instance}}\textit{
}e\textit{ }\foreignlanguage{english}{\textit{type}}\textit{.}

\inputencoding{latin9}\begin{lstlisting}[caption={DSL: definiÁ„o de Evaluation Object  },label={lis:DSL-para-defini=0000E7=0000E3o}]
evaluationObject ":ProductionUnit", {     
 instance "ui:hasName', label: ["en": "Name", "pt": "Nome"]
 instance ":hasAgriculturalProductionSystem"
 type label: ["en": "Type", "pt": "Tipo"]
}
\end{lstlisting}
\inputencoding{utf8}
O comando \foreignlanguage{english}{instance} vincula uma propriedade
definida na ontologia atrav√©s da URI a qual pode estar complementada
por par√¢metros que customizam a representa√ß√£o visual da propriedade.

O comando type vincula as subclasses da classe principal, para ser
atribuida nas intancias de Evaluation Object, no caso do Sistema SustenAgro,
dito comando identifica que as instancias de\textit{ ProductonUnit}
tamb√©m podem ser um \textit{Provider} ou uma \textit{Plant}. Os par√¢metros
que podem complementar os anteriores comandos s√£o:
\begin{enumerate}
\item \textit{label}: define um texto associado
\item \textit{placeholder:} define um texto de ajuda
\item \textit{required}: define uma propriedade obrigat√≥ria
\item \textit{widget}: define um controle gr√°fico de usu√°rio
\end{enumerate}

\subsection{Feature: }

O comando \textit{Feature} define as caracter√≠sticas que ser√£o apresentadas
durante a avalia√ß√£o para serem instanciadas como parte da Analysis,
ele tem como argumento uma URI que permite vincular as subclasses
da classe referenciada, as instancias destas classes ser√£o quantificadas
mediante o processo da avalia√ß√£o no qual √© realizado o preenchimento
da propriedade \textit{has value }que vincula cada Feature com um
Value para quantific√°-lo. No sistema SustenAgro foram estabelecidas
as Features por meio das URIs das classes: EnvironmentalIndicator,
EconomicIndicator, SocialIndicator, ProductionEfficiencyFeature e
TechnologicalEfficiencyFeature. Al√©m disso √© poss√≠vel acrescentar
a inser√ß√£o de \foreignlanguage{english}{\textit{features}} novas na
interface gr√°fica de usu√°rio a trav√©s do par√¢metro \foreignlanguage{english}{\textit{extraFeatures}}.\inputencoding{latin9}
\begin{lstlisting}[caption={DSL: definiÁ„o de Features}]
feature ':EnvironmentalIndicator', 'extraFeatures': true
\end{lstlisting}
\inputencoding{utf8}

\subsection{Logica de avalia√ß√£o: }

O comando \textit{Report} define o tratamento quantitativo que vai
ser efetuado √†s \foreignlanguage{english}{\textit{Features}}, com
a finalidade de obter valores gerais ou padr√µes como resultado do
processo de avalia√ß√£o, suportando a defini√ß√£o de opera√ß√µes logicas
e aritm√©ticas existentes tanto das linguagens Java e Groovy, fornecendo
assim uma linguagem para edi√ß√£o do metodo de avalia√ß√£o, permitindo
atualizar o metodo din√°micamente e em tempo de execu√ß√£o, ditos valores
gerais s√£o apresentados diretamente ou por meio de \foreignlanguage{english}{\textit{widgets}}
que facilitem a representa√ß√£o e compreens√£o da avalia√ß√£o do sistema.
No c√≥digo seguinte apresenta-se a implementa√ß√£o da formula do Sistema
SustenAgro, criando vari√°veis resultado de opera√ß√µes aritm√©ticas para
gerar resultados gerais, no caso do SustenAgro o c√≥digo gera a vari√°vel
\foreignlanguage{english}{\textit{sustainability}} que representa
o √≠ndice de sustentabilidade, m√°s pode ser definido qualquer m√©todo
comput√°vel.\inputencoding{latin9}
\begin{lstlisting}[caption={DSL: definiÁ„o da logica de avaliaÁ„o.}]
report {     
 environment = weightedSum(data.':EnvironmentalIndicator')
 economic = weightedSum(data.':EconomicIndicator')
 social = weightedSum(data.':SocialIndicator')
 sustainability = (environment + social + economic)/3
}
\end{lstlisting}
\inputencoding{utf8}
O comando \foreignlanguage{english}{\textit{report}} tamb√©m define
as \foreignlanguage{english}{\textit{widgets}} que conformam a parte
visual do \foreignlanguage{english}{\textit{report}}, o qual pode
usar as vari√°veis de resultado da logica de avalia√ß√£o como entrada
das \foreignlanguage{english}{\textit{widgets}} para melhorar a representa√ß√£o
e facilitar a compreens√£o dos resultados. No c√≥digo seguinte apresenta-se
um exemplo de uso desta funcionalidade no sistema SustenAgro, no qual
s√£o definidos comandos que geram as interfaces gr√°ficas, como \textit{sustainabilityMatrix}
que usa as vari√°veis geradas anteriormente como argumentos.\inputencoding{latin9}
\begin{lstlisting}[caption={DSL: definiÁ„o dos controles visuais do report}]
report {
 evaluationObjectInfo()
 sustainabilityMatrix x: sustainability, y: efficiency
 text 'en': 'Microregion map', 'pt': 'Mapa da microregi„o'
 map data.'Microregion'
}
\end{lstlisting}
\inputencoding{utf8} Por meio dessas configura√ß√µes da DSL definiu-se as interfaces gr√°ficas
de usu√°rio do sistema para suportar o processo de avalia√ß√£o, gerando
a representa√ß√£o visual dos Evaluation Objects, das Features, da logica
da avalia√ß√£o e da interface gr√°fica do report.

Esta DSL permitir√° que a interface gr√°fica seja definida em uma linguagem
de alto n√≠vel. Ela est√° baseada nas duas ontologias base e permite
definir e administrar os seguintes elementos conceituais:
\begin{itemize}
\item Indicadores
\item Componentes dos indicadores
\item Limiares
\item M√©todos
\item Avalia√ß√µes
\item √çndices
\end{itemize}
Os elementos que comp√µem a DSL tem controles gr√°ficos predefinidos
e ser√° poss√≠vel parametrizar as caracter√≠sticas destes controles gr√°ficos
visuais. Por exemplo para as propriedades de tipo num√©rico cont√≠nuo
tem uma \foreignlanguage{english}{\textit{widget}} que representa
os valores reais que posem ser atribu√≠dos em aquela propriedade, dita
\foreignlanguage{english}{\textit{widget}} pode ser mudada a outra
de acordo com as preferencias dos usu√°rios. No caso das mudan√ßas no
design s√£o feitas atrav√©s da edi√ß√£o do CSS3.
